<!DOCTYPE html>
<html lang="en">

<!-- To-do list
- Add more info about campaign zones to the sidepanel so it's clear how they're developed and that I made them

-->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Income by Subway Line </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css” />
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>


<!doctype html>

<body>

    <div id="overlay">
        <h3>Income by Subway Line</h3>
        <!-- <p>New Yorkers often identify with their subway line. This map shows how similar and different the communities
            that live along each line are from one another.</p>
        <p>[ADD CALL TO ACTION HERE WHEN THE MAP DATA IS SET UP]</p>
        <p>For sourcing info, see the readme on <a href="https://github.com/chriswhong/mapboxgl-nyc-subway">Github</a>
        </p>
        <p>The rest of this panel will include an embedded bar chart showing the relative income of residents along each
            subway line</p> -->

        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header titlefont" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        About this Project
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p>New Yorkers often identify with their subway line. This map shows how similar and different
                            the
                            communities that live along each line are from one another. I mapped the census tracts
                            within
                            half a mile of each subway stop to find the community that uses each subway line.
                            <strong>Click on a subway line to see more info.</strong>
                        </p>
                        <p>For sourcing info, see the readme on <a
                                href="https://github.com/chriswhong/mapboxgl-nyc-subway">Github</a>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header titlefont" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Summary Information
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <iframe title="Median household income along each subway line ($2022)" aria-label="Column Chart"
                            id="datawrapper-chart-psCjy" src="https://datawrapper.dwcdn.net/psCjy/1/" scrolling="no"
                            frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="428"
                            data-external="1"></iframe>
                        <script type="text/javascript">!function () { "use strict"; window.addEventListener("message", (function (a) { if (void 0 !== a.data["datawrapper-height"]) { var e = document.querySelectorAll("iframe"); for (var t in a.data["datawrapper-height"]) for (var r = 0; r < e.length; r++)if (e[r].contentWindow === a.source) { var i = a.data["datawrapper-height"][t] + "px"; e[r].style.height = i } } })) }();
                        </script>
                        This accordion will contain the following interactive figures, created in datawrapper:
                        - Median HH income by subway line
                        - Population by subway line
                    </div>
                </div>
            </div>
            <!-- Subway bullets as buttons that select the same subway line -->
            <div class="accordion-item">
                <h2 class="accordion-header titlefont" id="headinglines">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapselines" aria-expanded="false" aria-controls="collapselines">
                        Click on a subway line or select it from the dropdown list
                    </button>
                </h2>
                <div id="collapselines" class="accordion-collapse collapse" aria-labelledby="headinglines"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <span><button class="bullet-button" onclick="showline('A')">
                                <img src="data-analysis/subway-bullets/a-letter.svg" alt="A-train bullet" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('C')">
                                <img src="data-analysis/subway-bullets/c-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('E')">
                                <img src="data-analysis/subway-bullets/e-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('B')">
                                <img src="data-analysis/subway-bullets/b-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('D')">
                                <img src="data-analysis/subway-bullets/d-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('F')">
                                <img src="data-analysis/subway-bullets/f-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('M')">
                                <img src="data-analysis/subway-bullets/m-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('N')">
                                <img src="data-analysis/subway-bullets/n-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('Q')">
                                <img src="data-analysis/subway-bullets/q-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('R')">
                                <img src="data-analysis/subway-bullets/r-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('W')">
                                <img src="data-analysis/subway-bullets/w-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('G')">
                                <img src="data-analysis/subway-bullets/g-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('L')">
                                <img src="data-analysis/subway-bullets/l-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('J')">
                                <img src="data-analysis/subway-bullets/j-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('Z')">
                                <img src="data-analysis/subway-bullets/z-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('1')">
                                <img src="data-analysis/subway-bullets/1-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('2')">
                                <img src="data-analysis/subway-bullets/2-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('3')">
                                <img src="data-analysis/subway-bullets/3-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('4')">
                                <img src="data-analysis/subway-bullets/4-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('5')">
                                <img src="data-analysis/subway-bullets/5-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('6')">
                                <img src="data-analysis/subway-bullets/6-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('7')">
                                <img src="data-analysis/subway-bullets/7-digit.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('SI')">
                                <img src="data-analysis/subway-bullets/sir.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('SM')">
                                <img src="data-analysis/subway-bullets/s-letter.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('SB')">
                                <img src="data-analysis/subway-bullets/sf.svg" />
                            </button></span>
                        <span><button class="bullet-button" onclick="showline('SQ')">
                                <img src="data-analysis/subway-bullets/sr.svg" />
                            </button></span>

                    </div>
                    <div id="note">If the button is not working, zoom out until you can see the subway line</div>
                </div>
            </div>
            <div class="titlefont" id="source"> Created by Henry Kanengiser, see <a
                    href="https://github.com/henry-kanengiser/subway-income" target="_blank">Github</a> for more details
            </div>
        </div>

    </div>
    <div id="info-panel">
        <button type="button" class="btn-close" onclick=closeinfo() aria-label="Close"></button>
        <div id="info-panel-text"></div>
        <div class="legend" id="my-legend">
            <span><b>Click to show resident data on the map</b></span>
            <span class="fa-sharp fa-solid fa-circle-info" data-bs-container="body" data-bs-toggle="popover"
                data-bs-trigger="hover focus" data-bs-placement="top"
                data-bs-content="Data come from ACS 2022 5-year estimates for US Census block groups. Only census tracts within a 1/2 mile of a subway station are shown here."></span>
            <!-- Add styling to put space between sections of the legend -->
            <div class="column">
                <div style="padding-top: 6px; padding-bottom: 6px;">
                    <span class="legend-subtitle"></span>
                    <span><button type="button" class="btn btn-outline-secondary btn-xs active" data-toggle="button"
                            aria-pressed="true" id="mhhi-button">Household Income&nbsp
                        </button></span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #edf8fb;"></span>
                    <span>Less than $50,000</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #b3cde3;"></span>
                    <span>$50,000 - $99,999</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #8c96c6;"></span>
                    <span>$100,000 - $149,999</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #8856a7;"></span>
                    <span>$150,000-$199,999</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #810f7c;"></span>
                    <span>$200,000 or greater</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #282726;"></span>
                    <span>Missing data</span>
                </div>
            </div>
            <div class="column">
                <div style="padding-top: 6px; padding-bottom: 6px;">
                    <span class="legend-subtitle"></span>
                    <span><button type="button" class="btn btn-outline-secondary btn-xs" data-toggle="button"
                            aria-pressed="true" id="pop-button">Population &nbsp
                        </button></span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #fef0d9;"></span>
                    <span>Less than 2,500</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #fdcc8a;"></span>
                    <span>2,500-4,999</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #fc8d59;"></span>
                    <span>5,000-7,499</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #e34a33;"></span>
                    <span>7,500-9,999</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #b30000;"></span>
                    <span>10,000 or greater</span>
                </div>
                <div>
                    <span class="legend-key" style="background-color: #282726;"></span>
                    <span>Missing data</span>
                </div>
            </div>
        </div>
    </div>
    <div id='mapContainer'></div>


    <!-- Java script calls -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous">
        </script>
    <script src="https://kit.fontawesome.com/bf3fa8a055.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
    <script src="js/subway-layer-styles.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/listeners.js"></script>
</body>

</html>